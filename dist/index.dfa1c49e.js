function e(e,t,s,n){Object.defineProperty(e,t,{get:s,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},n={},i=t.parcelRequire30ab;null==i&&((i=function(e){if(e in s)return s[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return s[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequire30ab=i),i.register("9fb9u",(function(t,s){e(t.exports,"weatherMe",(()=>a)),e(t.exports,"dataWeek",(()=>c)),e(t.exports,"dayWeek",(()=>m)),e(t.exports,"dataFeels",(()=>g));var n=i("3OHhi"),o=i("8DcqV"),r=i("gohEa");async function a(e){let t=await fetch(`http://api.openweathermap.org/data/2.5/forecast?q=${e}&APPID=77cf7509f6657d267e637e6c2a540ddf`),s=await t.json();h(s),console.log("requête envoyée"),localStorage.setItem("meteo",e),localStorage.setItem("meteostored",JSON.stringify(s))}let l=localStorage.getItem("meteostored"),d=JSON.parse(l),u=localStorage.getItem("meteo");const c=[],m=[],g=[];window.addEventListener("load",(()=>{null!==d&&h(d),"null"===u&&(0,r.setUpButtons)()}));let p=document.querySelector("header"),f=document.querySelector("main");function h(e){p.innerHTML="",f.innerHTML="";let t=e.city.name,s=e.city.country;(0,n.displayElement)("div",`${t}`,p,"ville"),(0,n.displayElement)("div",`${s}`,p,"pays"),(0,r.setUpButtons)();for(let t=0;t<e.list.length;t++){let s=new Date(e.list[t].dt_txt),i=(0,n.toCelsius)(e.list[t].main.temp),r=(0,n.toCelsius)(e.list[t].main.feels_like),a=(0,n.toCelsius)(e.list[t].main.temp_min),l=(0,n.toCelsius)(e.list[t].main.temp_max),d=e.list[t].main.humidity,u=e.list[t].main.pressure,p=e.list[t].wind.speed,h=e.list[t].wind.deg,y=e.list[t].clouds.all,w=e.list[t].weather[0].main,v=new(0,o.jourMeteo)(s,i,a,l,r,d,u,p,h,y,w);c.push(i),g.push(r),m.push(`${v.fullDate} - ${v.time}`);let $=document.createElement("article");$.setAttribute("id",`weatherLine-${t}`),f.appendChild($);for(let e in v)if("cloudy"==e){(0,n.displayElement)("img","",$,`images-${t}`);let e=document.querySelector(`.images-${t}`);e.classList.add("image-weather"),e.src=v.cloudy}else if("winddir"==e){(0,n.displayElement)("img","",$,`images-wind-${t}`);let e=document.querySelector(`.images-wind-${t}`);e.classList.add("image-wind"),e.src="./assets/svg/arrow.svg",e.style.transform=`rotate(${0+v.winddir}deg)`}else(0,n.displayElement)("div",`${v[e]}`,$,e)}}document.getElementById("darkMode").addEventListener("click",(()=>{document.documentElement.classList.toggle("dark-mode")}))})),i.register("3OHhi",(function(t,s){function n(e){return Math.floor(e-273.15)}function i(e){return["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sep","Oct","Nov","Dec"][e]}function o(e){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][e]}function r(e,t,s,n){let i=document.createElement(e),o=document.createTextNode(t);i.appendChild(o),s.appendChild(i),i.classList.add(n)}function a(e){let t,s=["./assets/svg/cloud.svg","./assets/svg/drizzle.svg","./assets/svg/rain.svg","./assets/svg/sun.svg","./assets/svg/suncloud.svg","./assets/svg/snow.svg"];switch(e){case"Rain":t=s[2];break;case"Clouds":t=s[0];break;case"Snow":t=s[5];break;case"Clear":t=s[3]}return t}e(t.exports,"toCelsius",(()=>n)),e(t.exports,"monthOfYear",(()=>i)),e(t.exports,"dayOfWeek",(()=>o)),e(t.exports,"displayElement",(()=>r)),e(t.exports,"cloudOrNot",(()=>a))})),i.register("8DcqV",(function(t,s){e(t.exports,"jourMeteo",(()=>o));var n=i("3OHhi");class o{constructor(e,t,s,i,o,r,a,l,d,u,c){this.fullDate=`${(0,n.dayOfWeek)(e.getDay())} ${e.getDate()} ${(0,n.monthOfYear)(e.getMonth())} ${e.getFullYear()}`,this.time=` ${e.getHours()<=10?`0${e.getHours()}`:`${e.getHours()}`}:${e.getMinutes()<=10?`0${e.getMinutes()}`:`${e.getMinutes()}`}`,this.temp=`${t}°C`,this.min=`${s}°C`,this.max=`${i}°C`,this.feels=`${o}°C`,this.humidity=`${r}%`,this.pressure=`${a} hPa`,this.wind=`${l}m/s`,this.winddir=d,this.clouds=`${u}%`,this.cloudy=`${(0,n.cloudOrNot)(c)}`}}})),i.register("gohEa",(function(t,s){e(t.exports,"setUpButtons",(()=>a));var n=i("3OHhi"),o=i("9fb9u");let r=document.querySelector("header");function a(){(0,n.displayElement)("label","Enter a city name",r,"townToCheckLabel"),(0,n.displayElement)("input","",r,"townToCheck"),(0,n.displayElement)("button","Get weather forecasts",r,"forecast__Button");let e=document.querySelector(".forecast__Button");e.setAttribute("aria-label","get new weather forecast");let t,s=document.querySelector(".townToCheck");s.setAttribute("id","townToCheck"),document.querySelector(".townToCheckLabel").setAttribute("for","townToCheck"),s.addEventListener("keyup",(e=>{t=e.target.value,"Enter"==e.code&&((0,o.weatherMe)(t),a())})),e.addEventListener("click",(()=>{(0,o.weatherMe)(t),a()}))}})),i("9fb9u");
//# sourceMappingURL=index.dfa1c49e.js.map
